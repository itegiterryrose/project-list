<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <script src="https://cdn.tailwindcss.com"></script>
  
  <title>Frontend Mentor | Product list with cart</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet üëç -->
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body class="bg-gray-100 p-4">
  <div class="max-w-6xl mx-auto">
      <!-- Desserts Title -->
      <h1 class="text-3xl font-bold text-center md:text-left">Desserts</h1>

      <!-- Main Layout -->
      <div class="flex flex-col md:flex-row gap-6 mt-6">
          <!-- Products Section -->
          <div class="w-full md:w-3/4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
              <!-- Product Cards -->
              <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300 hover:border-orange-500">
                  <div class="relative">
                      <img src="assets/images/image-waffle-mobile.jpg" alt="Waffle" class="w-full">
                      <button onclick="addToCart('Waffle', 6.50)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                          <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
                      </button>
                  </div>
                  <p class="text-sm text-gray-400 mt-2">Waffle</p>
                  <p class="text-black">Waffle with Berries</p>
                  <p class="text-orange-600 font-bold">$6.50</p>
              </div>
              
              <!-- More Products (reusable structure) -->
              <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300  hover:border-orange-500">
                  <div class="relative">
                      <img src="assets/images/image-creme-brulee-mobile.jpg" alt="Cr√®me Br√ªl√©e" class="w-full">
                      <button onclick="addToCart('Cr√®me Br√ªl√©e', 7.00)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                          <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
                      </button>
                  </div>
                  <p class="text-sm text-gray-400 mt-2">Cr√®me Br√ªl√©e</p>
                  <p class="text-black">Vanilla Bean Cr√®me Br√ªl√©e</p>
                  <p class="text-orange-600 font-bold">$7.00</p>
              </div>
              
              <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300">
                  <div class="relative">
                      <img src="assets/images/image-macaron-mobile.jpg" alt="Macaron" class="w-full">
                      <button  onclick="addToCart('Macaron', 8.00)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                          <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
                      </button>
                  </div>
                  <p class="text-sm text-gray-400 mt-2">Macaron</p>
                  <p class="text-black">Mix of Five</p>
                  <p class="text-orange-600 font-bold">$8.00</p>
              </div>

              <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300">
                <div class="relative">
                    <img src="assets/images/image-tiramisu-mobile.jpg" alt="tiramisu" class="w-full">
                    <button  onclick="addToCart('Tiramisu', 5.50)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                        <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
                    </button>
                </div>
                <p class="text-sm text-gray-400">Tiramisu</p>
                <p> Classic Tiramisu</p>
                <p class="text-orange-600">$ 5.50</p>
            </div>

            <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300">
              <div class="relative">
                  <img src="assets/images/image-baklava-mobile.jpg" alt="Velvet Cake" class="w-full">
                  <button  onclick="addToCart('Baklava', 4.00)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                      <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
                  </button>
              </div>
              <p class="text-sm text-gray-400"> Baklava</p>
              <p> Pistachio Baklava</p>
              <p class="text-orange-600">$ 4.00</p>
          </div>

          <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300">
            <div class="relative">
                <img src="assets/images/image-meringue-mobile.jpg" alt="Meringue" class="w-full ">
                <button  onclick="addToCart('Meringue', 5.00)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                    <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
                </button>
            </div>
            <p class="text-sm text-gray-400">  Pie</p>
            <p class="text-black"> Lemon Meringue Pie</p>
            <p class="text-orange-600">$  5.00</p>
        </div>

        <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300">
          <div class="relative">
              <img src="assets/images/image-cake-mobile.jpg" alt="Velvet Cake" class="w-full">
              <button  onclick="addToCart('Velvet', 9.00)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                  <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
              </button>
          </div>
          <p class="text-sm text-gray-400 mt-2">Velvet Cake</p>
          <p class="text-black">Classic Red Velvet Cake</p>
          <p class="text-orange-600 font-bold">$9.00</p>
      </div>
              
              <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300">
                  <div class="relative">
                      <img src="assets/images/image-brownie-mobile.jpg" alt="Velvet Cake" class="w-full">
                      <button  onclick="addToCart('Brownie', 4.50)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                        <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
                    </button>
                  </div>
                  <p class="text-sm text-gray-400"> Brownie</p>
      <p>Salted Caramel Brownie</p>
      <p class="text-orange-600">$ 4.50</p>
              </div>
              
              <div class="bg-gray-100 rounded-lg hover:shadow-xl transition-all duration-300">
                  <div class="relative">
                      <img src="assets/images/image-panna-cotta-mobile.jpg" alt="Brownie" class="w-full">
                      <button  onclick="addToCart('Panna-Cotta', 6.50)" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 bg-white text-black px-2 rounded-lg hover:bg-orange-600 transition-all">
                          <img src="assets/images/icon-add-to-cart.svg" alt="Cart Icon" class="w-6 h-6 inline"> Add to Cart
                      </button>
                  </div>
                  <p class="text-sm text-gray-400"> Panna Cotta</p>
                  <p class="text-black">  Vanilla Panna Cotta</p>
                  <p class="text-orange-600">$6.50</p>
              </div>
          </div>

          <!-- Cart Section -->
          <div class="w-full md:w-1/4 h-64 bg-white shadow-lg p-4 rounded-lg flex flex-col items-center h-auto">
              <h2 class="font-bold text-red-500">Your Cart (<span id="cart-count">0</span>)</h2>
              <div id="empty-cart" class="text-center">
                <img src="assets/images/illustration-empty-cart.svg" alt="empty cart" class="w-24 h-24 ml-24 mr-32">
                <p class="text-red-900 text-center mt-2">Your added items will appear here!</p>
            </div>
            <!-- Cart Items Container -->
            <div id="cart-items" class="ml-0"></div>
              <div id="cart-items" class="w-full mt-4 ml-0"></div>
              <p> <img src="assets/images/icon-carbon-neutral.svg" class="float-left text-sm">This is a carbon-neutral delivery</p> 
              <button id="confirm-order" class="bg-red-600 text-white rounded-lg text-center w-40 ml-16 mr-16 hidden"
              onclick="showOrderSummary()"> Confirm Order </button>
              <div id="order-summary" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50 hidden">
                <div class="bg-white p-6 rounded-lg shadow-lg w-96 relative">
                  <img src="assets/images/icon-order-confirmed.svg">
                    <p class="text-3xl font-bold ml-0">Order Confirmed</p>
                    <p class="text-sm text-gray-400">We hope you enjoy your food</p>
                    <div id="order-summary-content" class="mt-4"></div>
                    <button onclick="closeOrderSummary()" class="mt-4 w-full bg-red-600 text-white py-2 rounded-lg">Start new order</button>
                </div>
            </div>
            </div>
      </div>
  </div>

  <script>
    let cart = {};

    function addToCart(name, price, imageUrl) {
        if (cart[name]) {
            cart[name].quantity++;
        } else {
            cart[name] = { price: price, quantity: 1, image: imageUrl };
        }
        updateCart();
    }

    function updateCart() {
        const cartContainer = document.getElementById("cart-items");
        const emptyCartMessage = document.getElementById("empty-cart");
        const cartCount = document.getElementById("cart-count");
        const confirmOrderButton = document.getElementById("confirm-order");

        cartContainer.innerHTML = ""; // Clear previous items
        let totalItems = 0;

        Object.keys(cart).forEach(item => {
            totalItems += cart[item].quantity;
            let total = (cart[item].price * cart[item].quantity).toFixed(2);

            cartContainer.innerHTML += `
                <div class='border-b border-gray-300 py-2 flex items-center'>
                    <img src="${cart[item].image}" alt="${item}" class="w-12 h-12 rounded-md mr-4">
                    <div>
                        <p class='font-bold'>${item}</p>
                        <p class='text-sm text-gray-600'>Quantity: ${cart[item].quantity} x $${cart[item].price.toFixed(2)}</p>
                        <p class='font-bold text-orange-600'>Total: $${total}</p>
                    </div>
                </div>`;
        });

        cartCount.innerText = totalItems;

        // Show/hide empty cart message & confirm order button
        emptyCartMessage.style.display = totalItems === 0 ? "block" : "none";
        confirmOrderButton.style.display = totalItems === 0 ? "none" : "block";
    }

    function showOrderSummary() {
        const orderSummary = document.getElementById("order-summary");
        const orderSummaryContent = document.getElementById("order-summary-content");
        orderSummaryContent.innerHTML = "";

        let totalAmount = 0;

        Object.keys(cart).forEach(item => {
            let itemTotal = (cart[item].price * cart[item].quantity).toFixed(2);
            totalAmount += parseFloat(itemTotal);

            orderSummaryContent.innerHTML += `
                <div class='border-b border-gray-300 py-2 flex items-center'>
                    <img src="${cart[item].image}" alt="${item}" class="w-16 h-16 rounded-md mr-4">
                    <div>
                        <p class='font-bold'>${item}</p>
                        <p class='text-sm text-gray-600'>Quantity: ${cart[item].quantity} x $${cart[item].price.toFixed(2)}</p>
                        <p class='font-bold text-orange-600'>Total: $${itemTotal}</p>
                    </div>
                </div>`;
        });

        orderSummaryContent.innerHTML += `
            <div class='text-xl font-bold mt-4 text-center'>Grand Total: $${totalAmount.toFixed(2)}</div>`;

        orderSummary.classList.remove("hidden"); // Show the popup
    }

    function closeOrderSummary() {
        document.getElementById("order-summary").classList.add("hidden"); // Hide the popup
    }

    // Attach event listeners to all "Add to Cart" buttons
    document.querySelectorAll("button.add-to-cart").forEach(button => {
        button.addEventListener("click", () => {
            const parent = button.closest("div");
            const name = parent.querySelector("p.text-black").innerText;
            const price = parseFloat(parent.querySelector("p.font-bold.text-orange-600").innerText.replace("$", ""));
            const imageUrl = parent.querySelector("img").src; // Get image URL
            addToCart(name, price, imageUrl);
        });
    });

    // Attach event listener to Confirm Order button
    document.getElementById("confirm-order").addEventListener("click", showOrderSummary);
</script>

</body>
</html>
